<div *ngIf="users">

  <p-card header="Voting results panel" [style]="{'margin':'0.5em'}">
    <p-table [value]="users" [tableStyle]="{'min-width': '25rem'}">
      <ng-template pTemplate="header">
        <tr>
          <th>Player</th>
          <th>Vote</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-player>
        <ng-container *ngIf="player.role == 'PLAYER'">
          <tr [ngClass]="{'text-red-500': max && player.vote == max, 'text-green-500': min && player.vote == min}">
            <td>{{player.nick}}</td>
            <td>{{player.vote}} </td>
          </tr>
        </ng-container>
      </ng-template>
      <ng-template pTemplate="summary">

        <p-tag *ngIf="isPerfect" severity="success" value="Perfect!"></p-tag>
        Avg: {{average | number:'1.2-2'}}
        <!--
        Min: {{min}}
        Max: {{max}}
        -->
      </ng-template>
    </p-table>
  </p-card>


  <!--
  <p-card header="Votes distribution" [style]="{'margin':'1em'}">
    <p-chart type="bar" [data]="basicData" [options]="basicOptions"></p-chart>
  </p-card>

  <button (click)="refresh()">Refresh</button>
  -->
</div>
